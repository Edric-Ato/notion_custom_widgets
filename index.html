<html>
<head>

</head>
<body>
    <ul class="navigation">
    </ul>

    <script type="module">

        const navigation = document.querySelector('.navigation');

        import { Octokit } from "https://esm.sh/@octokit/rest";
        const octokit = new Octokit({});

        const data = await octokit.request("GET /repos/Edric-Ato/notion_custom_widgets/contents/", {
            owner: "Edric-Ato",
            repo: "notion_custom_widgets"
        });

        for (var name of data.data) {
            if (name.name == "index.html") continue;

            var li = document.createElement('li');
            var a = document.createElement('a');
            a.href = "https://edric-ato.github.io/notion_custom_widgets/" + name.name;
            a.innerHTML = name.name;
            a.target = '_blank';
            li.appendChild(a);
            navigation.appendChild(li);
        }

    </script>
</body>
</html>
